{"version":3,"sources":["../static/js/2.91019f6c.chunk.js","routes/Work/model/index.js","../delegated 560 from dll-reference vendor_65a94337dbbbdabf630f","utils/pageHelper/PageInfo.js","utils/pageHelper/index.js","utils/modelEnhance.js","routes/Work/service/index.js"],"names":["webpackJsonp","197","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1__utils_modelEnhance__","__WEBPACK_IMPORTED_MODULE_2__utils_pageHelper__","__WEBPACK_IMPORTED_MODULE_3__service__","__WEBPACK_IMPORTED_MODULE_4__config__","namespace","state","pageData","create","employees","effects","getEmployee","a","mark","action","_ref","_ref2","status","data","message","put","select","call","wrap","_context","prev","next","sent","type","payload","notice","error","stop","this","reducers","getEmployeeSuccess","_ref3","assign","199","exports","200","_classCallCheck","instance","Constructor","TypeError","d","PageInfo","__WEBPACK_IMPORTED_MODULE_0_cmn_utils__","__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default","__WEBPACK_IMPORTED_MODULE_1__index__","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","pageNum","pageSize","size","total","totalPages","list","filters","sorts","reasonable","arguments","undefined","q","merge","isObject","url","options","self","isFunction","requestFormat","send","then","resp","responseFormat","newPageInfo","201","PageHelper","_class","_temp","__WEBPACK_IMPORTED_MODULE_0__PageInfo__","__WEBPACK_IMPORTED_MODULE_1__config__","pageInfo","pageHelper","212","_defineProperty","obj","_objectWithoutProperties","keys","indexOf","hasOwnProperty","_asyncToGenerator","fn","gen","apply","Promise","resolve","reject","step","arg","info","done","err","__WEBPACK_IMPORTED_MODULE_1_cmn_utils__","__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default","__WEBPACK_IMPORTED_MODULE_2__pageHelper_PageInfo__","__WEBPACK_IMPORTED_MODULE_3__config__","asyncRequest","_callee","other","_promise","Error","method","toLowerCase","abrupt","_x","simpleModel","randomStr","enhance","model","_Object$assign2","_simpleModel$model","subscriptions","_callee2","_payloads","resultState","_payloads$i","valueField","otherPayload","response","success","_context2","push","isArray","t0","text","_ref4","_ref5","213","post"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAA0DJ,EAAoB,KAC9EK,EAAkEL,EAAoBM,EAAEF,GACxFG,EAAoDP,EAAoB,KACxEQ,EAAkDR,EAAoB,KACtES,EAAyCT,EAAoB,KAC7DU,EAAwCV,EAAoB,GCPrFD,GAAA,QAAeE,OAAAM,EAAA,IACbI,UAAW,OAEXC,OACEC,SAAUL,EAAA,EAAWM,SACrBC,cAIFC,SACIC,YADKZ,EAAAa,EAAAC,KAAA,QAAAF,GACOG,EADPC,GAAA,GAAAC,GAAAC,EAAAC,EAAAC,EACwBC,GADxBL,EACgBM,OADhBN,EACwBK,KAAKE,EAD7BP,EAC6BO,IAD7B,OAAAvB,GAAAa,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aAAAF,GAAAE,KAAA,EAEmCJ,EAAKnB,EAAA,EAFxC,WAAAa,EAAAQ,EAAAG,KAEGV,EAFHD,EAEGC,OAAQC,EAFXF,EAEWE,KAAMC,EAFjBH,EAEiBG,SAClBF,EAHC,CAAAO,EAAAE,KAAA,eAAAF,GAAAE,KAAA,EAIGN,GAAKQ,KAAM,qBAAsBC,QAASX,GAJ7C,QAAAM,EAAAE,KAAA,iBAMHtB,EAAA,EAAO0B,OAAOC,MAAMZ,EANjB,yBAAAK,GAAAQ,SAAArB,EAAAsB,SAYTC,UACEC,mBADQ,SACW7B,EADX8B,GAC+B,GAAXP,GAAWO,EAAXP,OAC1B,OAAAlC,QAAA0C,UAAW/B,GAAOG,UAAWoB,SDT7BS,IACA,SAAU9C,EAAQ+C,EAAS7C,GEpBjCF,EAAA+C,QAAA7C,EAAA,SF0BM8C,IACA,SAAUhD,EAAQC,EAAqBC,GAE7C,YAK8f,SAAS+C,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAJzkBlD,EAAoBmD,EAAEpD,EAAqB,IAAK,WAAa,MAAOqD,IAC9E,IAAIC,GAA0CrD,EAAoB,IAC9DsD,EAAkDtD,EAAoBM,EAAE+C,GACxEE,EAAuCvD,EAAoB,KAChFwD,EAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWC,WAAWD,EAAWC,aAAY,EAAMD,EAAWE,cAAa,EAAQ,SAAUF,KAAWA,EAAWG,UAAS,GAAKhE,OAAOC,eAAewD,EAAOI,EAAWI,IAAIJ,IAAc,MAAO,UAASb,EAAYkB,EAAWC,GAAuI,MAAvHD,IAAWV,EAAiBR,EAAYoB,UAAUF,GAAeC,GAAYX,EAAiBR,EAAYmB,GAAoBnB,MG7BvdG,EH+BL,WAAW,QAASA,KAAWL,EAAgBR,KAAKa,GAAUb,KG7B5E+B,QAAU,EH6BiF/B,KG1B3FgC,SAAW,GH0BiGhC,KGvB5GiC,KAAO,EHuBiHjC,KGpBxHkC,MAAQ,EHoB6HlC,KGjBrImC,WAAa,EHiB0InC,KGdvJoC,QHcoKpC,KGXpKqC,WHWoLrC,KGRpLsC,SHQkMtC,KGDlMuC,YAAa,EHkCuzB,MArBj0BtB,GAAaJ,IAAWc,IAAI,YAI5B/D,MAAM,WGV6B,GAA5BmE,GAA4BS,UAAAlB,OAAA,OAAAmB,KAAAD,UAAA,GAAAA,UAAA,GAAlB,EAAGR,EAAeQ,UAAAlB,OAAA,OAAAmB,KAAAD,UAAA,GAAAA,UAAA,GAAJ,EAGhC,OAFAxC,MAAK+B,QAAUA,EACf/B,KAAKgC,SAAWA,EACThC,QHWH2B,IAAI,WAAW/D,MAAM,SGHlBmE,EAASC,GAKhB,MAJID,IAAWA,GAAW/B,KAAKmC,aAC7BnC,KAAK+B,QAAUA,EACXC,IAAUhC,KAAKgC,SAAWA,IAEzBhC,QHEH2B,IAAI,SAAS/D,MAAM,SGMlB8E,EAAGC,GAQR,MAPI5B,GAAApC,EAAGiE,SAASF,KAEZ1C,KAAKqC,QADHM,EACFjF,OAAA0C,UAAmBJ,KAAKqC,QAAYK,GAErBA,GAGZ1C,QHXH2B,IAAI,SAAS/D,MAAM,SGkBlB8E,GAIL,MAHI3B,GAAApC,EAAGiE,SAASF,KACd1C,KAAKsC,MAAQI,GAER1C,QHnBH2B,IAAI,WAAW/D,MAAM,SG0BlBmE,GAUP,OATyB,IAArB/B,KAAKmC,WACHJ,GAAWA,GAAW/B,KAAKmC,WAC7BnC,KAAK+B,QAAUA,EACN/B,KAAK+B,QAAU,GAAK/B,KAAKmC,YAClCnC,KAAK+B,UAGP/B,KAAK+B,QAAU/B,KAAKmC,WAEfnC,QHlCH2B,IAAI,WAAW/D,MAAM,WGgDzB,OAPyB,IAArBoC,KAAKmC,WACHnC,KAAK+B,QAAU,EAAI,GACrB/B,KAAK+B,UAGP/B,KAAK+B,QAAU,EAEV/B,QH/CR2B,IAAI,OAAO/D,MAAM,SGmDbiF,EAAKC,GACR,GAAMC,GAAO/C,KACL+B,EAAsC/B,KAAtC+B,QAASC,EAA6BhC,KAA7BgC,SAAUK,EAAmBrC,KAAnBqC,QAASC,EAAUtC,KAAVsC,MAChCrD,GAAS8C,UAASC,WAAUK,UAASC,QAKzC,OAHIvB,GAAApC,EAAGqE,WAAWhC,EAAA,EAAWiC,iBAC3BhE,EAAO+B,EAAA,EAAWiC,cAAcjD,OAE3Be,EAAApC,EAAGuE,KAAKL,EAARnF,OAAA0C,QAAenB,QAAS6D,IAAWK,KAAK,SAAAC,GAC7C,GAAIrC,EAAApC,EAAGqE,WAAWhC,EAAA,EAAWqC,gBAAiB,CAC5C,GAAMC,GAActC,EAAA,EAAWqC,eAAeD,EAC9C,OAAO1F,QAAO0C,OAAO2C,EAAMO,UH9D0yBzC,MAIv0B0C,IACA,SAAUhG,EAAQC,EAAqBC,GAE7C,YAI+gB,SAAS+C,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAH1lBlD,EAAoBmD,EAAEpD,EAAqB,IAAK,WAAa,MAAOgG,IAC9E,IAE6eC,GAAOC,EAFhfC,EAA0ClG,EAAoB,KAC9DmG,EAAwCnG,EAAoB,IACjFwD,EAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWC,WAAWD,EAAWC,aAAY,EAAMD,EAAWE,cAAa,EAAQ,SAAUF,KAAWA,EAAWG,UAAS,GAAKhE,OAAOC,eAAewD,EAAOI,EAAWI,IAAIJ,IAAc,MAAO,UAASb,EAAYkB,EAAWC,GAAuI,MAAvHD,IAAWV,EAAiBR,EAAYoB,UAAUF,GAAeC,GAAYX,EAAiBR,EAAYmB,GAAoBnB,MI1Evd8C,GJ4EFE,EAAMD,EAAO,WAAW,QAASD,KAAahD,EAAgBR,KAAKwD,GAyBuD,MAzB1CvC,GAAauC,EAAW,OAAO7B,IAAI,gBAelI/D,MAAM,SIrEaiG,GACnB,MAAOD,GAAA,EAAOE,WAAWb,cAAcY,MJoEuGlC,IAAI,iBAUlJ/D,MAAM,SI/DcwF,GACpB,MAAOQ,GAAA,EAAOE,WAAWT,eAAeD,OJ8DwGI,KAAeC,EIpG1JlF,OAAS,WAEd,MADiB,IAAIoF,GAAA,GJmGmQD,IAItRK,IACA,SAAUxG,EAAQC,EAAqBC,GAE7C,YAYsqB,SAASuG,GAAgBC,EAAItC,EAAI/D,GAAyI,MAA/H+D,KAAOsC,GAAKvG,OAAOC,eAAesG,EAAItC,GAAK/D,MAAMA,EAAM4D,YAAW,EAAKC,cAAa,EAAKC,UAAS,IAAauC,EAAItC,GAAK/D,EAAcqG,EAAK,QAASC,GAAyBD,EAAIE,GAAM,GAAIhD,KAAU,KAAI,GAAIE,KAAK4C,GAAQE,EAAKC,QAAQ/C,IAAI,GAAe3D,OAAOoE,UAAUuC,eAAehF,KAAK4E,EAAI5C,KAAYF,EAAOE,GAAG4C,EAAI5C,GAAI,OAAOF,GAAQ,QAASmD,GAAkBC,GAAI,MAAO,YAAW,GAAIC,GAAID,EAAGE,MAAMzE,KAAKwC,UAAW,OAAO,IAAIkC,SAAQ,SAASC,EAAQC,GAAQ,QAASC,GAAKlD,EAAImD,GAAK,IAAI,GAAIC,GAAKP,EAAI7C,GAAKmD,GAASlH,EAAMmH,EAAKnH,MAAO,MAAMkC,GAAqB,WAAd8E,GAAO9E,GAAe,IAAGiF,EAAKC,KAA2B,MAAON,SAAQC,QAAQ/G,GAAOuF,KAAK,SAASvF,GAAOiH,EAAK,OAAOjH,IAAS,SAASqH,GAAKJ,EAAK,QAAQI,IAAxHN,GAAQ/G,GAA0H,MAAOiH,GAAK,WAVj5C,GAAIhH,GAA0DJ,EAAoB,KAC9EK,EAAkEL,EAAoBM,EAAEF,GACxFqH,EAA0CzH,EAAoB,IAC9D0H,EAAkD1H,EAAoBM,EAAEmH,GACxEE,EAAqD3H,EAAoB,KACzE4H,EAAwC5H,EAAoB,IACjF6H,EAAa,WAAW,GAAIxG,GAAKwF,EAA+BxG,EAAgEa,EAAEC,KKlHtI,QAAA2G,GAA4B3F,GAA5B,GAAAiD,GAAAgB,EAAA2B,EAAAzD,EAAAC,EAAAK,EAAAC,EAAArD,EAAAwG,CAAA,OAAA3H,GAAAa,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACOG,GAAYA,EAAQiD,IAD3B,CAAAtD,EAAAE,KAAA,aACsC,IAAIiG,OAAM,mCADhD,WAKS7C,EAA2BjD,EAA3BiD,IAAKgB,EAAsBjE,EAAtBiE,SAAa2B,EAL3BtB,EAKoCtE,GALpC,mBAQMiE,GAAYA,YAAoBuB,GAAA,IAC1BrD,EAAsC8B,EAAtC9B,QAASC,EAA6B6B,EAA7B7B,SAAUK,EAAmBwB,EAAnBxB,QAASC,EAAUuB,EAAVvB,MAChCrD,GAAS8C,UAASC,WAAUK,UAASC,SAErC6C,EAAAxG,EAAGqE,WAAWqC,EAAA,EAAOvB,WAAWb,iBAClChE,EAAOoG,EAAA,EAAOvB,WAAWb,cAAcY,IAEzC2B,EAAMvG,KAAOA,GAGTwG,EAAWD,EAAMG,OACnBT,EAAA,QAAQM,EAAMG,OAAOC,eAAe/C,EAAK2C,EAAMvG,KAAMuG,GACrDN,EAAA,QAAQhC,KAAKL,EAAK2C,KAGlB3B,GAAYA,YAAoBuB,GAAA,GAvBtC,CAAA7F,EAAAE,KAAA,cAAAF,GAAAsG,OAAA,SAwBWJ,EAAStC,KAAK,SAAAC,GACnB,GAAI+B,EAAAxG,EAAGqE,WAAWqC,EAAA,EAAOvB,WAAWT,gBAAiB,CACnD,GAAMC,GAAc+B,EAAA,EAAOvB,WAAWT,eAAeD,EACrD,OAAO1F,QAAO0C,OAAOyD,EAAUP,MA3BvC,cAAA/D,GAAAsG,OAAA,SA+BWJ,EA/BX,yBAAAlG,GAAAQ,SAAAwF,EAAAvF,QLsH6lB,OAAO,UAAsB8F,GAAI,MAAOhH,GAAK2F,MAAMzE,KAAKwC,eKnFxoBuD,GACX3H,UAAW+G,EAAAxG,EAAGqH,UAAU,GACxBC,SAAS,EACT5H,SACAI,WACAwB,YAGFzC,GAAA,WAAgB0I,GAAU,GAAAC,GAAAC,EAAA1I,OAAA0C,UACkD2F,EAAgBG,GAAnF9H,EADiBgI,EACjBhI,UAAWC,EADM+H,EACN/H,MAAOgI,EADDD,EACCC,cAAe5H,EADhB2H,EACgB3H,QAASwB,EADzBmG,EACyBnG,QAEjD,OAHwBmG,GACmCH,SAMzD7H,YACAC,QACAgI,gBACA5H,yBAEKA,EAFLuF,KAzDY,WAyDZlG,EAAAa,EAAAC,KAAA,QAAA0H,GAAAvH,EAAAoB,GAAA,GAAAoG,GAAAC,EAAAnF,EAAAoF,EAAAC,EAAA7G,EAAA8G,EAAAC,EAQgBhH,EARhBb,EAQgBa,QAASiH,EARzB9H,EAQyB8H,QAAS/G,EARlCf,EAQkCe,MAAWT,EAR7Cc,EAQ6Cd,KAAMF,EARnDgB,EAQmDhB,GARnD,OAAArB,GAAAa,EAAAW,KAAA,SAAAwH,GAAA,cAAAA,EAAAtH,KAAAsH,EAAArH,MAAA,OASQ8G,KACApB,EAAAxG,EAAGiE,SAAShD,GACd2G,EAAUQ,KAAKnH,GACNuF,EAAAxG,EAAGqI,QAAQpH,KACpB2G,EAAY3G,GAGR4G,GACJK,WACA/G,UAGOuB,EAAI,CArBjB,aAqBoBA,EAAIkF,EAAUjF,QArBlC,CAAAwF,EAAArH,KAAA,eAAAgH,GAyBoDF,EAAUlF,GAAjDqF,EAzBbD,EAyBaC,WAAY7G,EAzBzB4G,EAyByB5G,OAAW8G,EAzBpCzC,EAAAuC,GAAA,wBAAAK,EAAAtH,KAAA,EAAAsH,EAAArH,KAAA,GA4B6BJ,EAAKiG,EAAcqB,EA5BhD,SA4BYC,EA5BZE,EAAApH,KA+BYiH,EAAaE,SACfF,EAAaE,QAAQD,GAInB/G,GACFwF,EAAA,EAAOxF,OAAOgH,SAAmB,IAAXhH,EAAkB,2BAASA,EAAO,GAAI,WAI9D2G,EAAYK,QAAQH,GAAc,WAAaE,EAzCvDE,EAAArH,KAAA,uBAAAqH,GAAAtH,KAAA,GAAAsH,EAAAG,GAAAH,EAAA,SA4CYjH,GACFwF,EAAA,EAAOxF,OAAOC,OAAiB,IAAXD,EAAmBiH,EAAAG,GAAEC,MAAQJ,EAAAG,GAAE/H,QAAWW,EAAO,GAAI,SAG3E2G,EAAY1G,MAAZ,MAAAgH,EAAAG,GAGI9B,EAAAxG,EAAGqE,WAAW2D,EAAa7G,OAC7B6G,EAAa7G,MAAbgH,EAAAG,IACS9B,EAAAxG,EAAGqE,WAAWlD,IACvBA,QAtDVgH,EAAArH,KAAA,GA0DcN,GACJQ,KAlHQ,iBAmHRC,QAAS4G,EAAY1G,OA5D/B,eAAAgH,GAAAjB,OAAA,oBAqB0CxE,IArB1CyF,EAAArH,KAAA,oBAoEQ/B,OAAOyG,KAAKqC,EAAYK,SAASvF,OApEzC,CAAAwF,EAAArH,KAAA,eAsEU0F,GAAAxG,EAAGqE,WAAW6D,IAChBA,EAAQL,EAAYK,SAvE5BC,EAAArH,KAAA,GA0EYN,GACJQ,KAnIY,mBAoIZC,QAAS4G,EAAYK,SA5E7B,yBAAAC,GAAA/G,SAAAuG,EAAAtG,OAAA,YAkFAC,0BAEKA,GAFLkG,KAAAnC,EAAAmC,EA1IoB,mBA0IpB,SAIoB9H,EAJpB8I,GAIwC,GAAXvH,GAAWuH,EAAXvH,OACzB,OAAAlC,QAAA0C,UACK/B,EACAuB,KAPToE,EAAAmC,EAzIkB,iBAyIlB,SAUkB9H,EAVlB+I,GAUsC,GAAXxH,GAAWwH,EAAXxH,OACvB,OAAAlC,QAAA0C,UACK/B,EACAuB,KAbTuG,MAxFQ/H,YAAWC,QAAOgI,gBAAe5H,UAASwB,cLoFhDoH,IACA,SAAU9J,EAAQC,EAAqBC,GAE7C,YAMA,SAAS6G,GAAkBC,GAAI,MAAO,YAAW,GAAIC,GAAID,EAAGE,MAAMzE,KAAKwC,UAAW,OAAO,IAAIkC,SAAQ,SAASC,EAAQC,GAAQ,QAASC,GAAKlD,EAAImD,GAAK,IAAI,GAAIC,GAAKP,EAAI7C,GAAKmD,GAASlH,EAAMmH,EAAKnH,MAAO,MAAMkC,GAAqB,WAAd8E,GAAO9E,GAAe,IAAGiF,EAAKC,KAA2B,MAAON,SAAQC,QAAQ/G,GAAOuF,KAAK,SAASvF,GAAOiH,EAAK,OAAOjH,IAAS,SAASqH,GAAKJ,EAAK,QAAQI,IAAxHN,GAAQ/G,GAA0H,MAAOiH,GAAK,WALtWpH,EAAoBmD,EAAEpD,EAAqB,IAAK,WAAa,MAAOkB,IAC9E,IAAIb,GAA0DJ,EAAoB,KAC9EK,EAAkEL,EAAoBM,EAAEF,GACxFqH,EAA0CzH,EAAoB,IAC9D0H,EAAkD1H,EAAoBM,EAAEmH,GMjJjGxG,EAAA,cAAAI,GAAAwF,EAAAxG,EAAAa,EAAAC,KAAO,QAAA2G,KAAA,MAAAzH,GAAAa,EAAAW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aAAAF,GAAAsG,OAAA,SACEV,EAAAxG,EAAG2I,KAAK,yBADV,wBAAA/H,GAAAQ,SAAAwF,EAAAvF,QAAP,yBAAAlB,GAAA2F,MAAAzE,KAAAwC","file":"static/js/2.91019f6c.chunk.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 197:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_modelEnhance__ = __webpack_require__(212);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_pageHelper__ = __webpack_require__(201);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service__ = __webpack_require__(213);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config__ = __webpack_require__(57);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_1__utils_modelEnhance__[\"a\" /* default */])({namespace:'work',state:{pageData:__WEBPACK_IMPORTED_MODULE_2__utils_pageHelper__[\"a\" /* default */].create(),employees:[]},// 下面是原生的dva中effect,reducer的写法例子，其实可以完全用modelEnhance的@request写法简化\neffects:{getEmployee:/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function getEmployee(action,_ref){var select=_ref.select,put=_ref.put,call=_ref.call;var _ref2,status,data,message;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function getEmployee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return call(__WEBPACK_IMPORTED_MODULE_3__service__[\"a\" /* getEmployee */]);case 2:_ref2=_context.sent;status=_ref2.status;data=_ref2.data;message=_ref2.message;if(!status){_context.next=11;break;}_context.next=9;return put({type:'getEmployeeSuccess',payload:data});case 9:_context.next=12;break;case 11:__WEBPACK_IMPORTED_MODULE_4__config__[\"a\" /* default */].notice.error(message);case 12:case'end':return _context.stop();}}},getEmployee,this);})},// 下面是原生的dva中effect,reducer的写法例子，其实可以完全用modelEnhance的@request写法简化\nreducers:{getEmployeeSuccess:function getEmployeeSuccess(state,_ref3){var payload=_ref3.payload;return Object.assign({},state,{employees:payload});}}}));\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = (__webpack_require__(0))(560);\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PageInfo; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cmn_utils__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cmn_utils___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_cmn_utils__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(201);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/**\r\n * 分页对象\r\n */var PageInfo=function(){function PageInfo(){_classCallCheck(this,PageInfo);this.pageNum=1;this.pageSize=10;this.size=0;this.total=0;this.totalPages=0;this.list=[];this.filters={};this.sorts={};this.reasonable=false;}// 页码，从1开始\n// 每页数量\n// 当前页的数量\n// 总记录数\n// 总页数\n// 结果集\n// 过滤条件 {name: 'jonn'}\n// 排序条件 {name: 'asc', age: 'desc'}\n/**\r\n   * 希望用户输入的页数不在合法范围（第一页到最后一页之外）\r\n   * 时能够正确的响应到正确的结果页面，那么你可以配置reasonable为true，\r\n   * 这时如果pageNum<1,会查询第一页，如果pageNum>总页数,会查询最后一页\r\n   */_createClass(PageInfo,[{key:'startPage',/**\r\n   * 组装分页信息\r\n   * @param {number} pageNum page number, default 1\r\n   * @param {number} pageSize page size, default 10\r\n   */value:function startPage(){var pageNum=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var pageSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;this.pageNum=pageNum;this.pageSize=pageSize;return this;}/**\r\n   * 组装分页信息\r\n   * @param {number} pageNum page number\r\n   * @param {number} pageSize page size\r\n   */},{key:'jumpPage',value:function jumpPage(pageNum,pageSize){if(pageNum&&pageNum<=this.totalPages){this.pageNum=pageNum;if(pageSize)this.pageSize=pageSize;}return this;}/**\r\n   * 拼接过滤条件\r\n   * @param {object} q 过滤条件 {name: 'jonn', sex: 1}\r\n   * @param {boolean} merge 是否将新条件与现有条件合并\r\n   */},{key:'filter',value:function filter(q,merge){if(__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.isObject(q)){if(merge){this.filters=Object.assign({},this.filters,q);}else{this.filters=q;}}return this;}/**\r\n   * 拼接排序条件\r\n   * @param {object} q 排序字段 {name: 'asc', age: 'desc'}\r\n   */},{key:'sortBy',value:function sortBy(q){if(__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.isObject(q)){this.sorts=q;}return this;}/**\r\n   * 下一页或指定页数\r\n   * @param {number} pageNum \r\n   */},{key:'nextPage',value:function nextPage(pageNum){if(this.totalPages!==-1){if(pageNum&&pageNum<=this.totalPages){this.pageNum=pageNum;}else if(this.pageNum+1<=this.totalPages){this.pageNum++;}}else{this.pageNum=this.totalPages;}return this;}/**\r\n   * 上一页\r\n   */},{key:'prevPage',value:function prevPage(){if(this.totalPages!==-1){if(this.pageNum-1>0){this.pageNum--;}}else{this.pageNum=1;}return this;}// deprecate\n},{key:'send',value:function send(url,options){var self=this;var pageNum=this.pageNum,pageSize=this.pageSize,filters=this.filters,sorts=this.sorts;var data={pageNum:pageNum,pageSize:pageSize,filters:filters,sorts:sorts};if(__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.isFunction(__WEBPACK_IMPORTED_MODULE_1__index__[\"a\" /* default */].requestFormat)){data=__WEBPACK_IMPORTED_MODULE_1__index__[\"a\" /* default */].requestFormat(this);}return __WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.send(url,Object.assign({data:data},options)).then(function(resp){if(__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.isFunction(__WEBPACK_IMPORTED_MODULE_1__index__[\"a\" /* default */].responseFormat)){var newPageInfo=__WEBPACK_IMPORTED_MODULE_1__index__[\"a\" /* default */].responseFormat(resp);return Object.assign(self,newPageInfo);}});}}]);return PageInfo;}();\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PageHelper; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PageInfo__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__config__ = __webpack_require__(57);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _class,_temp;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/**\r\n * 通用分页助手\r\n */var PageHelper=(_temp=_class=function(){function PageHelper(){_classCallCheck(this,PageHelper);}_createClass(PageHelper,null,[{key:'requestFormat',/**\r\n   * 可以通过设置这个函数，格式化发送到后端的参数\r\n   * \r\n   * 例如后端分页接口需要的参数是\r\n   * {\r\n   *    currentPage: 1, \r\n   *    showCount: 10, \r\n   *    paramMap: {name: 'jonn'}\r\n   * }\r\n   * 可以通过设置这个参数格式化分页信息\r\n   * 例如：\r\n   * pageHelper.requestFormat(({pageNum, pageSize}) => ({\r\n   *  currentPage: pageNum,\r\n   *  showCount: pageSize\r\n   * }))\r\n  */value:function requestFormat(pageInfo){return __WEBPACK_IMPORTED_MODULE_1__config__[\"a\" /* default */].pageHelper.requestFormat(pageInfo);}},{key:'responseFormat',/**\r\n   * 格式化从服务端反回的数据，并置入PageInfo对象中，\r\n   * 为下次分页做准备\r\n   * 页码 pageNum;\r\n     每页数量 pageSize;\r\n     当前页的数量 size;\r\n     总记录数 total;\r\n     总页数 totalPages;\r\n     结果集 list;\r\n   * @param {object} resp \r\n  */value:function responseFormat(resp){return __WEBPACK_IMPORTED_MODULE_1__config__[\"a\" /* default */].pageHelper.responseFormat(resp);}}]);return PageHelper;}(),_class.create=function(){var pageInfo=new __WEBPACK_IMPORTED_MODULE_0__PageInfo__[\"a\" /* default */]();return pageInfo;},_temp);\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export simpleModel */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_cmn_utils__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_cmn_utils___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_cmn_utils__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pageHelper_PageInfo__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config__ = __webpack_require__(57);\nvar asyncRequest=function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(payload){var url,pageInfo,other,pageNum,pageSize,filters,sorts,data,_promise;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!payload||!payload.url)){_context.next=2;break;}throw new Error('payload require contains url opt');case 2:/**\r\n   * other中可以配置 method headers data 等参数\r\n   */url=payload.url,pageInfo=payload.pageInfo,other=_objectWithoutProperties(payload,['url','pageInfo']);// 如果是分页查询 (格式化发送参数)\nif(pageInfo&&pageInfo instanceof __WEBPACK_IMPORTED_MODULE_2__pageHelper_PageInfo__[\"a\" /* default */]){pageNum=pageInfo.pageNum,pageSize=pageInfo.pageSize,filters=pageInfo.filters,sorts=pageInfo.sorts;data={pageNum:pageNum,pageSize:pageSize,filters:filters,sorts:sorts};if(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isFunction(__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].pageHelper.requestFormat)){data=__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].pageHelper.requestFormat(pageInfo);}other.data=data;}_promise=other.method?__WEBPACK_IMPORTED_MODULE_1_cmn_utils__[\"request\"][other.method.toLowerCase()](url,other.data,other):__WEBPACK_IMPORTED_MODULE_1_cmn_utils__[\"request\"].send(url,other);// 如果是分页查询（格式化反回结果）\nif(!(pageInfo&&pageInfo instanceof __WEBPACK_IMPORTED_MODULE_2__pageHelper_PageInfo__[\"a\" /* default */])){_context.next=9;break;}return _context.abrupt('return',_promise.then(function(resp){if(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isFunction(__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].pageHelper.responseFormat)){var newPageInfo=__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].pageHelper.responseFormat(resp);return Object.assign(pageInfo,newPageInfo);}}));case 9:return _context.abrupt('return',_promise);case 10:case'end':return _context.stop();}}},_callee,this);}));return function asyncRequest(_x){return _ref.apply(this,arguments);};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}var REQUEST='@request';var REQUEST_SUCCESS='@request_success';var REQUEST_ERROR='@request_error';var simpleModel={namespace:__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.randomStr(4),enhance:true,state:{},effects:{},reducers:{}};/* harmony default export */ __webpack_exports__[\"a\"] = (function(model){var _Object$assign2;var _simpleModel$model=Object.assign({},simpleModel,model),namespace=_simpleModel$model.namespace,state=_simpleModel$model.state,subscriptions=_simpleModel$model.subscriptions,effects=_simpleModel$model.effects,reducers=_simpleModel$model.reducers,enhance=_simpleModel$model.enhance;if(!enhance){return{namespace:namespace,state:state,subscriptions:subscriptions,effects:effects,reducers:reducers};}return{namespace:namespace,state:state,subscriptions:subscriptions,effects:Object.assign({},effects,_defineProperty({},REQUEST,/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(_ref2,_ref3){var payload=_ref2.payload,success=_ref2.success,error=_ref2.error;var call=_ref3.call,put=_ref3.put;var _payloads,resultState,i,_payloads$i,valueField,notice,otherPayload,response;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_payloads=[];if(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isObject(payload)){_payloads.push(payload);}else if(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isArray(payload)){_payloads=payload;};resultState={success:{},error:{}};i=0;case 5:if(!(i<_payloads.length)){_context2.next=27;break;}/**\r\n           * valueField: 返回结果将使用valueField字段的值来接收\r\n           */_payloads$i=_payloads[i],valueField=_payloads$i.valueField,notice=_payloads$i.notice,otherPayload=_objectWithoutProperties(_payloads$i,['valueField','notice']);_context2.prev=7;_context2.next=10;return call(asyncRequest,otherPayload);case 10:response=_context2.sent;// 如果需要回调\nif(otherPayload.success){otherPayload.success(response);}// 如果需要通知功能\nif(notice){__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].notice.success(notice===true?'操作成功':notice[0],'success');}// 准备返回值\nresultState.success[valueField||'_@fake_']=response;_context2.next=24;break;case 16:_context2.prev=16;_context2.t0=_context2['catch'](7);// 如果需要通知功能\nif(notice){__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].notice.error(notice===true?_context2.t0.text||_context2.t0.message:notice[1],'error');}resultState.error['error']=_context2.t0;// 如果需要内部回调\nif(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isFunction(otherPayload.error)){otherPayload.error(_context2.t0);}else if(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isFunction(error)){error(_context2.t0);}// 通知reducer\n_context2.next=23;return put({type:REQUEST_ERROR,payload:resultState.error});case 23:return _context2.abrupt('break',27);case 24:i++;_context2.next=5;break;case 27:if(!Object.keys(resultState.success).length){_context2.next=31;break;}// 如果需要回调\nif(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isFunction(success)){success(resultState.success);}_context2.next=31;return put({type:REQUEST_SUCCESS,payload:resultState.success});case 31:case'end':return _context2.stop();}}},_callee2,this,[[7,16]]);}))),reducers:Object.assign({},reducers,(_Object$assign2={},_defineProperty(_Object$assign2,REQUEST_SUCCESS,function(state,_ref4){var payload=_ref4.payload;return Object.assign({},state,payload);}),_defineProperty(_Object$assign2,REQUEST_ERROR,function(state,_ref5){var payload=_ref5.payload;return Object.assign({},state,payload);}),_Object$assign2))};});\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getEmployee; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_cmn_utils__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_cmn_utils___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_cmn_utils__);\nfunction _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}var getEmployee=function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt('return',__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.post('/work/getWorkEmployee'));case 1:case'end':return _context.stop();}}},_callee,this);}));return function getEmployee(){return _ref.apply(this,arguments);};}();\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.91019f6c.chunk.js","import modelEnhance from '@/utils/modelEnhance';\r\nimport PageHelper from '@/utils/pageHelper';\r\nimport { getEmployee } from '../service';\r\nimport config from '@/config';\r\n\r\nexport default modelEnhance({\r\n  namespace: 'work',\r\n\r\n  state: {\r\n    pageData: PageHelper.create(),\r\n    employees: [],\r\n  },\r\n\r\n  // 下面是原生的dva中effect,reducer的写法例子，其实可以完全用modelEnhance的@request写法简化\r\n  effects: {\r\n    * getEmployee(action, {select, put, call}) {\r\n      const { status, data, message } = yield call(getEmployee);\r\n      if (status) {\r\n        yield put({type: 'getEmployeeSuccess', payload: data});\r\n      } else {\r\n        config.notice.error(message);\r\n      }\r\n    },\r\n  },\r\n\r\n  // 下面是原生的dva中effect,reducer的写法例子，其实可以完全用modelEnhance的@request写法简化\r\n  reducers: {\r\n    getEmployeeSuccess(state, { payload }) {\r\n      return {...state, employees: payload};\r\n    },\r\n  },\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Work/model/index.js","module.exports = (__webpack_require__(0))(560);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/babel-runtime/regenerator/index.js from dll-reference vendor_65a94337dbbbdabf630f\n// module id = 199\n// module chunks = 2 3","import $$ from 'cmn-utils';\r\nimport PageHelper from './index';\r\n/**\r\n * 分页对象\r\n */\r\nexport default class PageInfo {\r\n  // 页码，从1开始\r\n  pageNum = 1;\r\n\r\n  // 每页数量\r\n  pageSize = 10;\r\n\r\n  // 当前页的数量\r\n  size = 0;\r\n\r\n  // 总记录数\r\n  total = 0;\r\n\r\n  // 总页数\r\n  totalPages = 0;\r\n\r\n  // 结果集\r\n  list = [];\r\n\r\n  // 过滤条件 {name: 'jonn'}\r\n  filters = {};\r\n\r\n  // 排序条件 {name: 'asc', age: 'desc'}\r\n  sorts = {};\r\n\r\n  /**\r\n   * 希望用户输入的页数不在合法范围（第一页到最后一页之外）\r\n   * 时能够正确的响应到正确的结果页面，那么你可以配置reasonable为true，\r\n   * 这时如果pageNum<1,会查询第一页，如果pageNum>总页数,会查询最后一页\r\n   */\r\n  reasonable = false;\r\n\r\n  /**\r\n   * 组装分页信息\r\n   * @param {number} pageNum page number, default 1\r\n   * @param {number} pageSize page size, default 10\r\n   */\r\n  startPage(pageNum = 1, pageSize = 10) {\r\n    this.pageNum = pageNum;\r\n    this.pageSize = pageSize;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 组装分页信息\r\n   * @param {number} pageNum page number\r\n   * @param {number} pageSize page size\r\n   */\r\n  jumpPage(pageNum, pageSize) {\r\n    if (pageNum && pageNum <= this.totalPages) {\r\n      this.pageNum = pageNum;\r\n      if (pageSize) this.pageSize = pageSize;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 拼接过滤条件\r\n   * @param {object} q 过滤条件 {name: 'jonn', sex: 1}\r\n   * @param {boolean} merge 是否将新条件与现有条件合并\r\n   */\r\n  filter(q, merge) {\r\n    if ($$.isObject(q)) {\r\n      if (merge) {\r\n        this.filters = {...this.filters, ...q};\r\n      } else {\r\n        this.filters = q;\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 拼接排序条件\r\n   * @param {object} q 排序字段 {name: 'asc', age: 'desc'}\r\n   */\r\n  sortBy(q) {\r\n    if ($$.isObject(q)) {\r\n      this.sorts = q;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 下一页或指定页数\r\n   * @param {number} pageNum \r\n   */\r\n  nextPage(pageNum) {\r\n    if (this.totalPages !== -1) {\r\n      if (pageNum && pageNum <= this.totalPages) {\r\n        this.pageNum = pageNum;\r\n      } else if (this.pageNum + 1 <= this.totalPages) {\r\n        this.pageNum ++;\r\n      }\r\n    } else {\r\n      this.pageNum = this.totalPages;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * 上一页\r\n   */\r\n  prevPage() {\r\n    if (this.totalPages !== -1) {\r\n      if (this.pageNum - 1 > 0) {\r\n        this.pageNum --;\r\n      }\r\n    } else {\r\n      this.pageNum = 1;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  // deprecate\r\n  send(url, options) {\r\n    const self = this;\r\n    const { pageNum, pageSize, filters, sorts } = this;\r\n    let data = { pageNum, pageSize, filters, sorts };\r\n\r\n    if ($$.isFunction(PageHelper.requestFormat)) {\r\n      data = PageHelper.requestFormat(this);\r\n    }\r\n    return $$.send(url, { data, ...options }).then(resp => {\r\n      if ($$.isFunction(PageHelper.responseFormat)) {\r\n        const newPageInfo = PageHelper.responseFormat(resp);\r\n        return Object.assign(self, newPageInfo);\r\n      }\r\n    })\r\n  }\r\n} \n\n\n// WEBPACK FOOTER //\n// ./src/utils/pageHelper/PageInfo.js","import PageInfo from './PageInfo';\r\nimport config from '@/config';\r\n\r\n/**\r\n * 通用分页助手\r\n */\r\nexport default class　PageHelper {\r\n  static create = () => {\r\n    const pageInfo = new PageInfo();\r\n    return pageInfo;\r\n  }\r\n\r\n  /**\r\n   * 可以通过设置这个函数，格式化发送到后端的参数\r\n   * \r\n   * 例如后端分页接口需要的参数是\r\n   * {\r\n   *    currentPage: 1, \r\n   *    showCount: 10, \r\n   *    paramMap: {name: 'jonn'}\r\n   * }\r\n   * 可以通过设置这个参数格式化分页信息\r\n   * 例如：\r\n   * pageHelper.requestFormat(({pageNum, pageSize}) => ({\r\n   *  currentPage: pageNum,\r\n   *  showCount: pageSize\r\n   * }))\r\n  */\r\n  static requestFormat(pageInfo) {\r\n    return config.pageHelper.requestFormat(pageInfo);\r\n  };\r\n   \r\n\r\n  /**\r\n   * 格式化从服务端反回的数据，并置入PageInfo对象中，\r\n   * 为下次分页做准备\r\n   * 页码 pageNum;\r\n     每页数量 pageSize;\r\n     当前页的数量 size;\r\n     总记录数 total;\r\n     总页数 totalPages;\r\n     结果集 list;\r\n   * @param {object} resp \r\n  */\r\n  static responseFormat(resp) {\r\n    return config.pageHelper.responseFormat(resp);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pageHelper/index.js","import $$, {request} from 'cmn-utils';\r\nimport PageInfo from './pageHelper/PageInfo';\r\nimport config from '@/config';\r\n\r\nconst REQUEST = '@request';\r\nconst REQUEST_SUCCESS = '@request_success';\r\nconst REQUEST_ERROR = '@request_error';\r\n \r\nasync function asyncRequest(payload) {\r\n  if (!payload || !payload.url) throw(new Error('payload require contains url opt'));\r\n  /**\r\n   * other中可以配置 method headers data 等参数\r\n   */\r\n  const {url, pageInfo, ...other} = payload;\r\n\r\n  // 如果是分页查询 (格式化发送参数)\r\n  if (pageInfo && pageInfo instanceof PageInfo) {\r\n    const { pageNum, pageSize, filters, sorts } = pageInfo;\r\n    let data = { pageNum, pageSize, filters, sorts };\r\n\r\n    if ($$.isFunction(config.pageHelper.requestFormat)) {\r\n      data = config.pageHelper.requestFormat(pageInfo);\r\n    }\r\n    other.data = data;\r\n  }\r\n\r\n  const _promise = other.method \r\n    ? request[other.method.toLowerCase()](url, other.data, other)\r\n    : request.send(url, other);\r\n\r\n  // 如果是分页查询（格式化反回结果）\r\n  if (pageInfo && pageInfo instanceof PageInfo) {\r\n    return _promise.then(resp => {\r\n      if ($$.isFunction(config.pageHelper.responseFormat)) {\r\n        const newPageInfo = config.pageHelper.responseFormat(resp);\r\n        return Object.assign(pageInfo, newPageInfo);\r\n      }\r\n    })\r\n  } else {\r\n    return _promise\r\n  }\r\n}\r\n\r\nexport const simpleModel = {\r\n  namespace: $$.randomStr(4),\r\n  enhance: true,\r\n  state: {},\r\n  effects: {},\r\n  reducers: {},\r\n};\r\n\r\nexport default (model) => {\r\n  const {namespace, state, subscriptions, effects, reducers, enhance} = {...simpleModel, ...model};\r\n\r\n  if (!enhance) {\r\n    return {namespace, state, subscriptions, effects, reducers};\r\n  }\r\n  return {\r\n    namespace,\r\n    state,\r\n    subscriptions,\r\n    effects: {\r\n      // get old effect\r\n      ...effects,\r\n      /**\r\n       * payload 如果传入数组形式的payload，会合并结果后调用一次渲染\r\n       * success 在dispatch结束后得到成功的回调\r\n       * error 在dispatch结束后得到失败的回调\r\n       */\r\n      * [REQUEST]({ payload, success, error }, { call, put }) {\r\n        let _payloads = [];\r\n        if ($$.isObject(payload)) {\r\n          _payloads.push(payload);\r\n        } else if ($$.isArray(payload)) {\r\n          _payloads = payload;\r\n        };\r\n\r\n        const resultState = {\r\n          success: {},\r\n          error: {}\r\n        };\r\n      \r\n        for (let i = 0; i < _payloads.length; i++) {\r\n          /**\r\n           * valueField: 返回结果将使用valueField字段的值来接收\r\n           */\r\n          const {valueField, notice, ...otherPayload} = _payloads[i];\r\n\r\n          try {\r\n            let response = yield call(asyncRequest, otherPayload);\r\n\r\n            // 如果需要回调\r\n            if (otherPayload.success) {\r\n              otherPayload.success(response);\r\n            }\r\n            \r\n            // 如果需要通知功能\r\n            if (notice) {\r\n              config.notice.success(notice === true ? '操作成功' : notice[0], 'success');\r\n            }\r\n\r\n            // 准备返回值\r\n            resultState.success[valueField || '_@fake_'] = response;\r\n          } catch(e) {\r\n            // 如果需要通知功能\r\n            if (notice) {\r\n              config.notice.error(notice === true ? (e.text || e.message) : notice[1], 'error');\r\n            }\r\n            \r\n            resultState.error['error'] = e;\r\n\r\n            // 如果需要内部回调\r\n            if ($$.isFunction(otherPayload.error)) {\r\n              otherPayload.error(e);\r\n            } else if ($$.isFunction(error)) {\r\n              error(e);\r\n            } \r\n\r\n            // 通知reducer\r\n            yield put({\r\n              type: REQUEST_ERROR,\r\n              payload: resultState.error\r\n            });\r\n            // 如果出错提前终止\r\n            break;\r\n          }\r\n        }\r\n\r\n        // 通知reducer\r\n        if (Object.keys(resultState.success).length) {\r\n          // 如果需要回调\r\n          if ($$.isFunction(success)) {\r\n            success(resultState.success);\r\n          }\r\n\r\n          yield put({\r\n            type: REQUEST_SUCCESS,\r\n            payload: resultState.success\r\n          });\r\n        }\r\n      },\r\n    },\r\n  \r\n    reducers: {\r\n      // get old reducers\r\n      ...reducers,\r\n      // append new request reducers\r\n      [REQUEST_SUCCESS](state, { payload }) {\r\n        return {\r\n          ...state,\r\n          ...payload\r\n        };\r\n      },\r\n      [REQUEST_ERROR](state, { payload }) {\r\n        return {\r\n          ...state,\r\n          ...payload\r\n        };\r\n      },\r\n    },\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/modelEnhance.js","import $$ from 'cmn-utils';\r\n\r\nexport async function getEmployee() {\r\n  return $$.post('/work/getWorkEmployee');\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Work/service/index.js"],"sourceRoot":""}