(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{2201:function(e,t,n){"use strict";n.r(t);var r=n(31),a=n(70),s=n.n(a),o=n(30),u=n(192),c=n(11),i=n.n(c);function p(e){return l.apply(this,arguments)}function l(){return(l=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post("/user/login",t));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}t.default={namespace:"login",state:{loggedIn:!1,message:"",user:{}},subscriptions:{setup:function(e){var t=e.history;e.dispatch;return t.listen(function(e){-1!==e.pathname.indexOf("/sign/login")&&i.a.removeStore("user")})}},effects:{login:s.a.mark(function e(t,n){var r,a,u,c,l,f,g;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,u=n.put,e.next=4,a(p,r);case 4:if(c=e.sent,l=c.status,f=c.message,g=c.data,!l){e.next=14;break}return i.a.setStore("user",g),e.next=12,u(o.routerRedux.replace("/"));case 12:e.next=16;break;case 14:return e.next=16,u({type:"loginError",payload:{message:f}});case 16:case"end":return e.stop()}},e,this)}),logout:s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.put;case 1:case"end":return e.stop()}},e,this)})},reducers:{loginSuccess:function(e,t){var n=t.payload;return Object(r.a)({},e,{loggedIn:!0,message:"",user:n})},loginError:function(e,t){var n=t.payload;return Object(r.a)({},e,{loggedIn:!1,message:n.message})}}}}}]);